#!/bin/bash

# All the models used for CL
models_base_dir="/export/b15/ssadhu/speech_recognition_tools/e2e"
#pm_base_dir="/export/c01/ssadhu/speech_confidence_backup/e2e"
pm_base_dir="/export/b15/ssadhu/speech_recognition_tools/e2e"
pm_transform_dir="/export/c01/ssadhu/speech_confidence/e2e"

dataset="chime4"

# models_base_dir=".."
model1="${models_base_dir}/wsj/exp/train_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100_DEBUGGED_gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train_no_preprocess_FDLP/split2/1/results/model.last10.avg.best"
model2="${models_base_dir}/wsj/exp/train_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100_DEBUGGED_gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train_no_preprocess_FDLP/split2/2/results/model.last10.avg.best"
model3="${models_base_dir}/reverb/exp/tr_simu_8ch_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train/split2/1/results/model.last10.avg.best"
model4="${models_base_dir}/reverb/exp/tr_simu_8ch_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train/split2/2/results/model.last10.avg.best"

#model1_pm="${pm_base_dir}/wsj/exp/train_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100_DEBUGGED_gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train_no_preprocess_FDLP/split2/1/confidence_model_enc/px_model_enc_VAE_enc3l_dec3l_512nodes_bn50_lrr0.98/exp_1.dir/exp_1__epoch_100.model"
#model2_pm="${pm_base_dir}/wsj/exp/train_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100_DEBUGGED_gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train_no_preprocess_FDLP/split2/2/confidence_model_enc/px_model_enc_VAE_enc3l_dec3l_512nodes_bn50_lrr0.98/exp_1.dir/exp_1__epoch_100.model"
#model3_pm="${pm_base_dir}/reverb/exp/tr_simu_8ch_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train/split2/1/confidence_model_enc/px_model_enc_VAE_enc3l_dec3l_512nodes_bn50_lrr0.98/exp_1.dir/exp_1__epoch_100.model"
#model4_pm="${pm_base_dir}/reverb/exp/tr_simu_8ch_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train/split2/2/confidence_model_enc/px_model_enc_VAE_enc3l_dec3l_512nodes_bn50_lrr0.98/exp_1.dir/exp_1__epoch_100.model"

model1_pm="${pm_base_dir}/wsj/exp/train_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100_DEBUGGED_gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train_no_preprocess_FDLP/split2/1/confidence_model_enc/WSJ_px_enc_VAE_enc2l_dec2l_512nodes_bn50/exp_1.dir/exp_1__epoch_100.model"
model2_pm="${pm_base_dir}/wsj/exp/train_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100_DEBUGGED_gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train_no_preprocess_FDLP/split2/2/confidence_model_enc/WSJ_px_enc_VAE_enc2l_dec2l_512nodes_bn50/exp_1.dir/exp_1__epoch_100.model"
model3_pm="${pm_base_dir}/reverb/exp/tr_simu_8ch_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train/split2/1/confidence_model_enc/WSJ_px_enc_VAE_enc2l_dec2l_512nodes_bn50/exp_1.dir/exp_1__epoch_100.model"
model4_pm="${pm_base_dir}/reverb/exp/tr_simu_8ch_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train/split2/2/confidence_model_enc/WSJ_px_enc_VAE_enc2l_dec2l_512nodes_bn50/exp_1.dir/exp_1__epoch_100.model"



model1_pm_transform="${pm_transform_dir}/wsj/exp/train_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100_DEBUGGED_gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train_no_preprocess_FDLP/split2/1/confidence_model_enc/global_cmvn_encodings"
model2_pm_transform="${pm_transform_dir}/wsj/exp/train_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100_DEBUGGED_gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train_no_preprocess_FDLP/split2/2/confidence_model_enc/global_cmvn_encodings"
model3_pm_transform="${pm_transform_dir}/reverb/exp/tr_simu_8ch_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train/split2/1/confidence_model_enc/global_cmvn_encodings"
model4_pm_transform="${pm_transform_dir}/reverb/exp/tr_simu_8ch_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train/split2/2/confidence_model_enc/global_cmvn_encodings"


#model1_pm="${pm_base_dir}/wsj/exp/train_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100_DEBUGGED_gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train_no_preprocess_FDLP/split2/1/confidence_model_enc/WSJ_px_enc_VAE_enc2l_dec2l_512nodes_bn50/exp_1.dir/exp_1__epoch_100.model"
#model2_pm="${pm_base_dir}/wsj/exp/train_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100_DEBUGGED_gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train_no_preprocess_FDLP/split2/2/confidence_model_enc/WSJ_px_enc_VAE_enc2l_dec2l_512nodes_bn50/exp_1.dir/exp_1__epoch_100.model"
#model3_pm="${pm_base_dir}/reverb/exp/tr_simu_8ch_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train/split2/1/confidence_model_enc/WSJ_px_enc_VAE_enc2l_dec2l_512nodes_bn50/exp_1.dir/exp_1__epoch_100.model"
#model4_pm="${pm_base_dir}/reverb/exp/tr_simu_8ch_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1_pytorch_train/split2/2/confidence_model_enc/WSJ_px_enc_VAE_enc2l_dec2l_512nodes_bn50/exp_1.dir/exp_1__epoch_100.model"



# Dataset used for decoding
dumpdir=${models_base_dir}/${dataset}/dump_fbank_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1
do_delta=false
train_set="tr05_multi_noisy_si284_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1"
recog_set="et05_real_isolated_1ch_track_nf80_ord150_fdur1.5_range1100_ola0.25_frate100__gw_none_cochlear_omw1_alp1_fx_1_bet2.5_wf1"

# Language model
lmexpname=train_rnnlm_pytorch_lm_word65000
lmexpdir=${models_base_dir}/${dataset}/exp/${lmexpname}

# VAE options
vae_output_distribution='laplace'
enc_feat_transform_type='cmvn'
pm_type='enc_vae'

# Result dump
expname=rnn_enc
expdir=../chime4/exp/${expname}
